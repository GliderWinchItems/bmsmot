ARM GAS  /tmp/ccIgTmzx.s 			page 1


   1              		.syntax unified
   2              		.cpu cortex-m4
   3              		.eabi_attribute 27, 1
   4              		.eabi_attribute 28, 1
   5              		.fpu fpv4-sp-d16
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.thumb
  16              		.syntax unified
  17              		.file	"adcextendsum.c"
  18              		.text
  19              	.Ltext0:
  20              		.cfi_sections	.debug_frame
  21              		.section	.text.adcextendsum,"ax",%progbits
  22              		.align	2
  23              		.global	adcextendsum
  24              		.thumb
  25              		.thumb_func
  27              	adcextendsum:
  28              	.LFB0:
  29              		.file 1 "Ourtasks/adcextendsum.c"
   1:Ourtasks/adcextendsum.c **** /******************************************************************************
   2:Ourtasks/adcextendsum.c **** * File Name          : adcextendsum.c
   3:Ourtasks/adcextendsum.c **** * Date First Issued  : 07/16/2019
   4:Ourtasks/adcextendsum.c **** * Description        : Sum sums from adcfastsum16.c for long term smoothing and display
   5:Ourtasks/adcextendsum.c **** *******************************************************************************/
   6:Ourtasks/adcextendsum.c **** 
   7:Ourtasks/adcextendsum.c **** #include "adcextendsum.h"
   8:Ourtasks/adcextendsum.c **** #include "adcparams.h"
   9:Ourtasks/adcextendsum.c **** 
  10:Ourtasks/adcextendsum.c **** static uint32_t ctr;
  11:Ourtasks/adcextendsum.c **** 
  12:Ourtasks/adcextendsum.c **** /* *************************************************************************
  13:Ourtasks/adcextendsum.c ****  * void adcextendsum(struct ADCFUNCTION* p);
  14:Ourtasks/adcextendsum.c ****  *	@brief	: Sum the 1/2 DMA sums for greater averaging
  15:Ourtasks/adcextendsum.c ****  * @param	: pcf = pointer to stuct array for ADCs
  16:Ourtasks/adcextendsum.c ****  * *************************************************************************/
  17:Ourtasks/adcextendsum.c **** void adcextendsum(struct ADCFUNCTION* p)
  18:Ourtasks/adcextendsum.c **** {
  30              		.loc 1 18 0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              	.LVL0:
  35 0000 F0B5     		push	{r4, r5, r6, r7, lr}
  36              	.LCFI0:
  37              		.cfi_def_cfa_offset 20
  38              		.cfi_offset 4, -20
  39              		.cfi_offset 5, -16
  40              		.cfi_offset 6, -12
ARM GAS  /tmp/ccIgTmzx.s 			page 2


  41              		.cfi_offset 7, -8
  42              		.cfi_offset 14, -4
  43              	.LVL1:
  19:Ourtasks/adcextendsum.c **** 	struct ADCCHANNEL* pchan = &p->chan[0];
  20:Ourtasks/adcextendsum.c **** 
  21:Ourtasks/adcextendsum.c **** 	(pchan+0)->xsum[0] += (pchan+0)->sum;
  44              		.loc 1 21 0
  45 0002 B0F800E1 		ldrh	lr, [r0, #256]
  46 0006 D0F80431 		ldr	r3, [r0, #260]
  47 000a 9E44     		add	lr, lr, r3
  48 000c C0F804E1 		str	lr, [r0, #260]
  22:Ourtasks/adcextendsum.c **** 	(pchan+1)->xsum[0] += (pchan+1)->sum;
  49              		.loc 1 22 0
  50 0010 B0F84061 		ldrh	r6, [r0, #320]
  51 0014 D0F84431 		ldr	r3, [r0, #324]
  52 0018 1E44     		add	r6, r6, r3
  53 001a C0F84461 		str	r6, [r0, #324]
  23:Ourtasks/adcextendsum.c **** 	(pchan+2)->xsum[0] += (pchan+2)->sum;
  54              		.loc 1 23 0
  55 001e B0F88051 		ldrh	r5, [r0, #384]
  56 0022 D0F88431 		ldr	r3, [r0, #388]
  57 0026 1D44     		add	r5, r5, r3
  58 0028 C0F88451 		str	r5, [r0, #388]
  24:Ourtasks/adcextendsum.c **** 	(pchan+3)->xsum[0] += (pchan+3)->sum;
  59              		.loc 1 24 0
  60 002c B0F8C041 		ldrh	r4, [r0, #448]
  61 0030 D0F8C431 		ldr	r3, [r0, #452]
  62 0034 1C44     		add	r4, r4, r3
  63 0036 C0F8C441 		str	r4, [r0, #452]
  25:Ourtasks/adcextendsum.c **** 	(pchan+4)->xsum[0] += (pchan+4)->sum;
  64              		.loc 1 25 0
  65 003a B0F80012 		ldrh	r1, [r0, #512]
  66 003e D0F80432 		ldr	r3, [r0, #516]
  67 0042 1944     		add	r1, r1, r3
  68 0044 C0F80412 		str	r1, [r0, #516]
  26:Ourtasks/adcextendsum.c **** 	(pchan+5)->xsum[0] += (pchan+5)->sum;
  69              		.loc 1 26 0
  70 0048 B0F84022 		ldrh	r2, [r0, #576]
  71 004c D0F84432 		ldr	r3, [r0, #580]
  72 0050 1A44     		add	r2, r2, r3
  73 0052 C0F84422 		str	r2, [r0, #580]
  27:Ourtasks/adcextendsum.c **** 
  28:Ourtasks/adcextendsum.c **** 	ctr += 1;
  74              		.loc 1 28 0
  75 0056 144F     		ldr	r7, .L4
  76 0058 3B68     		ldr	r3, [r7]
  77 005a 0133     		adds	r3, r3, #1
  78 005c 3B60     		str	r3, [r7]
  29:Ourtasks/adcextendsum.c **** 	if (ctr >= ADCEXTENDSUMCT)
  79              		.loc 1 29 0
  80 005e B3F5806F 		cmp	r3, #1024
  81 0062 1FD3     		bcc	.L1
  30:Ourtasks/adcextendsum.c **** 	{
  31:Ourtasks/adcextendsum.c **** 		ctr = 0;
  82              		.loc 1 31 0
  83 0064 0023     		movs	r3, #0
  84 0066 3B60     		str	r3, [r7]
ARM GAS  /tmp/ccIgTmzx.s 			page 3


  32:Ourtasks/adcextendsum.c **** 		p->idx_xsum ^= 0x1;
  85              		.loc 1 32 0
  86 0068 D0F86472 		ldr	r7, [r0, #612]
  87 006c 87F00107 		eor	r7, r7, #1
  88 0070 C0F86472 		str	r7, [r0, #612]
  33:Ourtasks/adcextendsum.c **** 
  34:Ourtasks/adcextendsum.c **** 		(pchan+0)->xsum[1] = (pchan+0)->xsum[0];
  89              		.loc 1 34 0
  90 0074 C0F808E1 		str	lr, [r0, #264]
  35:Ourtasks/adcextendsum.c **** 		(pchan+1)->xsum[1] = (pchan+1)->xsum[0];
  91              		.loc 1 35 0
  92 0078 C0F84861 		str	r6, [r0, #328]
  36:Ourtasks/adcextendsum.c **** 		(pchan+2)->xsum[1] = (pchan+2)->xsum[0];
  93              		.loc 1 36 0
  94 007c C0F88851 		str	r5, [r0, #392]
  37:Ourtasks/adcextendsum.c **** 		(pchan+3)->xsum[1] = (pchan+3)->xsum[0];
  95              		.loc 1 37 0
  96 0080 C0F8C841 		str	r4, [r0, #456]
  38:Ourtasks/adcextendsum.c **** 		(pchan+4)->xsum[1] = (pchan+4)->xsum[0];
  97              		.loc 1 38 0
  98 0084 C0F80812 		str	r1, [r0, #520]
  39:Ourtasks/adcextendsum.c **** 		(pchan+5)->xsum[1] = (pchan+5)->xsum[0];
  99              		.loc 1 39 0
 100 0088 C0F84822 		str	r2, [r0, #584]
  40:Ourtasks/adcextendsum.c **** 		
  41:Ourtasks/adcextendsum.c **** 		(pchan+0)->xsum[0] = 0;
 101              		.loc 1 41 0
 102 008c C0F80431 		str	r3, [r0, #260]
  42:Ourtasks/adcextendsum.c **** 		(pchan+1)->xsum[0] = 0;
 103              		.loc 1 42 0
 104 0090 C0F84431 		str	r3, [r0, #324]
  43:Ourtasks/adcextendsum.c **** 		(pchan+2)->xsum[0] = 0;
 105              		.loc 1 43 0
 106 0094 C0F88431 		str	r3, [r0, #388]
  44:Ourtasks/adcextendsum.c **** 		(pchan+3)->xsum[0] = 0;
 107              		.loc 1 44 0
 108 0098 C0F8C431 		str	r3, [r0, #452]
  45:Ourtasks/adcextendsum.c **** 		(pchan+4)->xsum[0] = 0;
 109              		.loc 1 45 0
 110 009c C0F80432 		str	r3, [r0, #516]
  46:Ourtasks/adcextendsum.c **** 		(pchan+5)->xsum[0] = 0;
 111              		.loc 1 46 0
 112 00a0 C0F84432 		str	r3, [r0, #580]
 113              	.L1:
 114 00a4 F0BD     		pop	{r4, r5, r6, r7, pc}
 115              	.L5:
 116 00a6 00BF     		.align	2
 117              	.L4:
 118 00a8 00000000 		.word	.LANCHOR0
 119              		.cfi_endproc
 120              	.LFE0:
 122              		.section	.bss.ctr,"aw",%nobits
 123              		.align	2
 124              		.set	.LANCHOR0,. + 0
 127              	ctr:
 128 0000 00000000 		.space	4
 129              		.text
ARM GAS  /tmp/ccIgTmzx.s 			page 4


 130              	.Letext0:
 131              		.file 2 "/home/deh/launchpad/gcc-arm-none-eabi-5_4-2016q3/arm-none-eabi/include/machine/_default_t
 132              		.file 3 "/home/deh/launchpad/gcc-arm-none-eabi-5_4-2016q3/arm-none-eabi/include/sys/_stdint.h"
 133              		.file 4 "Ourtasks/iir_filter_lx.h"
 134              		.file 5 "Ourtasks/adc_idx_v_struct.h"
 135              		.file 6 "Ourtasks/adcparams.h"
ARM GAS  /tmp/ccIgTmzx.s 			page 5


DEFINED SYMBOLS
                            *ABS*:00000000 adcextendsum.c
     /tmp/ccIgTmzx.s:22     .text.adcextendsum:00000000 $t
     /tmp/ccIgTmzx.s:27     .text.adcextendsum:00000000 adcextendsum
     /tmp/ccIgTmzx.s:118    .text.adcextendsum:000000a8 $d
     /tmp/ccIgTmzx.s:123    .bss.ctr:00000000 $d
     /tmp/ccIgTmzx.s:127    .bss.ctr:00000000 ctr
                     .debug_frame:00000010 $d

NO UNDEFINED SYMBOLS
